{"version":3,"sources":["types/navigation.ts","constants/POSSIBLE_CATEGORIES.ts","store/action-creators/navigation.ts","types/goods.ts","store/API/index.ts","types/filters.ts","store/action-creators/goods.ts","store/action-creators/filters.ts","types/statistics.ts","store/action-creators/statistics.ts","store/action-creators/index.ts","hooks/useActions.ts","hooks/useTypedSelector.ts","components/NumberInput/NumberInput.tsx","components/Switch/Switch.tsx","components/Toggler/Toggler.tsx","components/Filters/Filters.tsx","components/Goods/Goods.tsx","components/AnotherOffers/AnotherOffers.tsx","constants/linguistics.ts","components/Navigation/Navigation.tsx","components/RadarPreloader/RadarPreloader.tsx","components/Central/Central.tsx","components/MainScreen/MainScreen.tsx","components/Chart/Chart.tsx","components/Statistics/Statistics.tsx","components/Footer/Footer.tsx","App.tsx","store/reducers/goodsReducers.ts","store/reducers/navigationReducer.ts","constants/localStorage.ts","store/API/localStorage.ts","store/reducers/filtersReducer.ts","constants/POSSIBLE_SHOPS.ts","store/reducers/statisticsReducer.ts","store/reducers/index.ts","store/index.ts","index.tsx"],"names":["NavigationActionsTypes","POSSIBLE_CATEGORIES","GoodsActionsTypes","updateCategory","newCategory","type","UPDATE_CATEGORY","payload","FiltersActionsTypes","getCheaper","category","a","fetch","response","json","raw","data","isLoading","isError","href","link","price","Math","round","pricePerKg","NaN","getGoods","minPrice","maxPrice","restrictedShops","sortOrder","params","URLSearchParams","append","join","url","toString","map","rawGood","id","_id","title","pictureLink","shopName","weight","getChartData","item","date","Date","slice","reverse","fetchCheaper","dispatch","FETCH_CHEAPER","dataFromServer","UPDATE_CHEAPER","console","error","UPDATE_IS_CHEAPER_ERROR","fetchGoods","getState","FETCH_GOODS","state","filters","min","max","shops","filter","shop","allowed","humanName","sortDirection","navigation","currentTab","UPDATE_GOODS","UPDATE_IS_GOODS_ERROR","StatiscticsActions","updateFiltersVisibility","UPDATE_FILTERS_VISIBILITY","updateMinPrice","newMin","UPDATE_MIN_PRICE","updateMaxPrice","newMax","UPDATE_MAX_PRICE","invertSortDirection","INVERT_SORT_DIRECTION","updateListOfShops","UPDATE_LIST_OF_SHOPS","updateChartData","UPDATE_CHART_DATA","showErrorChartData","SHOW_ERROR_CHART_DATA","fetchChartData","FETCH_CHART_DATA","actionCreators","navigationActionCreators","goodsActionCreators","filtersActionCreators","statisticsActionCreators","useActions","bindActionCreators","useDispatch","useTypedSelector","useSelector","NumberInput","onChange","value","customClassNames","name","className","Switch","direction","labelWhenDown","labelWhenUp","onClick","Toggler","checked","leftLable","rightLable","inputId","useMemo","random","classNames","htmlFor","Filters","priceLimitations","useState","priceTimeout","setPriceTimeout","changePriceHandler","event","clearTimeout","newValue","target","window","setTimeout","Good","rel","src","alt","width","height","length","Goods","goods","goodsList","useEffect","good","AnotherOffers","isFiltersVisible","isVisible","CASUS_NOMINATIVUS","corn","buckwheat","rice","barley","wheat","CHEAPER_CASUS_GENETIVUS","MONTHS_NAMES","casusNominativus","casusGenetivus","Link","itsCategory","activeCategory","Navigation","RadarPreloader","side","color","xmlns","version","viewBox","x","y","fill","d","offset","stopColor","fillOpacity","attributeName","from","to","dur","repeatCount","cx","cy","r","begin","keyTimes","values","Central","cheaper","MainScreen","calcWidth","viewport","document","body","offsetWidth","Chart","statistics","rawData","getDate","getMonth","LineChart","XAxis","dataKey","YAxis","Tooltip","Line","stroke","activeDot","Statistics","Footer","Number","process","getFullYear","App","initialState","SAVING_MOMENT_NAME","FILTERS","saveState","localStorage","setItem","JSON","stringify","now","savedState","pastSavingMoment","getItem","releaseMoment","log","checkIsDataActual","string","parse","getFiltersState","initailState","filtersReducer","action","newShops","rootReducer","combineReducers","newState","store","createStore","composeWithDevTools","applyMiddleware","thunk","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.8e98134c.chunk.js","sourcesContent":["import { CategoryType } from \"./CategoryType\";\r\n\r\n\r\nexport interface NavigationState {\r\n\tcurrentTab: CategoryType,\r\n}\r\n\r\nexport enum NavigationActionsTypes {\r\n\tUPDATE_CATEGORY = 'UPDATE_CATEGORY',\r\n}\r\n\r\ninterface UpdateCategory {\r\n\ttype: NavigationActionsTypes.UPDATE_CATEGORY;\r\n\tpayload: CategoryType;\r\n}\r\n\r\nexport type NavigationAction = UpdateCategory | UpdateCategory;\r\n","import { CategoryType } from \"../types/CategoryType\";\r\n\r\nexport const POSSIBLE_CATEGORIES: CategoryType[] = [\r\n\t\"corn\",\r\n\t\"buckwheat\",\r\n\t\"rice\",\r\n\t\"barley\",\r\n\t\"wheat\"\r\n];\r\n","import { POSSIBLE_CATEGORIES } from '../../constants/POSSIBLE_CATEGORIES';\r\nimport { CategoryType } from '../../types/CategoryType';\r\nimport { NavigationAction, NavigationActionsTypes } from '../../types/navigation';\r\n\r\nexport const updateCategory = (\r\n\tnewCategory: CategoryType = POSSIBLE_CATEGORIES[0]\r\n): NavigationAction => ({\r\n\ttype: NavigationActionsTypes.UPDATE_CATEGORY,\r\n\tpayload: newCategory,\r\n})\r\n","export interface CheaperType {\r\n\tisLoading: boolean,\r\n\tisError: boolean,\r\n\tprice: number | null,\r\n\thref: string,\r\n}\r\n\r\nexport interface GoodType {\r\n\tid: number | string,\r\n\ttitle: string,\r\n\tlink: string,\r\n\tpictureLink: string,\r\n\tshopName: string,\r\n\tweight: number,\r\n\tpricePerKg: number,\r\n}\r\n\r\n\r\nexport interface GoodsState {\r\n\tcheaper: CheaperType,\r\n\tgoods: {\r\n\t\tisLoading: boolean,\r\n\t\tisError: boolean,\r\n\t\tgoodsList: GoodType[]\r\n\t}\r\n}\r\n\r\nexport enum GoodsActionsTypes {\r\n\tFETCH_CHEAPER = 'goods/FETCH_CHEAPER',\r\n\tUPDATE_CHEAPER = 'goods/UPDATE_CHEAPER',\r\n\tUPDATE_IS_CHEAPER_ERROR = 'goods/UPDATE_IS_ERROR',\r\n\tFETCH_GOODS = 'goods/FETCH_GOODS',\r\n\tUPDATE_GOODS = 'goods/UPDATE_GOODS',\r\n\tUPDATE_IS_GOODS_ERROR = 'goods/UPDATE_IS_GOODS_ERROR',\r\n}\r\n\r\ninterface FetchCheaper {\r\n\ttype: GoodsActionsTypes.FETCH_CHEAPER\r\n}\r\n\r\ninterface UpdateCheaper {\r\n\ttype: GoodsActionsTypes.UPDATE_CHEAPER,\r\n\tpayload: CheaperType,\r\n}\r\n\r\ninterface UpdateIsCheaperError {\r\n\ttype: GoodsActionsTypes.UPDATE_IS_CHEAPER_ERROR,\r\n}\r\n\r\ninterface FetchGoods {\r\n\ttype: GoodsActionsTypes.FETCH_GOODS;\r\n}\r\n\r\ninterface UpdateGoods {\r\n\ttype: GoodsActionsTypes.UPDATE_GOODS,\r\n\tpayload: GoodType[]\r\n}\r\n\r\ninterface UpdateIsGoodsError {\r\n\ttype: GoodsActionsTypes.UPDATE_IS_GOODS_ERROR,\r\n}\r\n\r\nexport type GoodsActionType =\r\n\tFetchCheaper\r\n\t| UpdateCheaper\r\n\t| UpdateIsCheaperError\r\n\t| FetchGoods\r\n\t| UpdateGoods\r\n\t| UpdateIsGoodsError;\r\n","import { CategoryType } from \"../../types/CategoryType\";\r\nimport { goodsFetch } from './simulators/goodsFetch';\r\nimport { chartFetch } from './simulators/chartFetch';\r\nimport { CheaperType, GoodType } from \"../../types/goods\";\r\nimport { StatisticsItem } from '../../types/statistics';\r\n\r\nconst BASE_URL = 'http://plug.com';\r\n\r\nexport const getCheaper = async (category: CategoryType) => {\r\n\r\n\tconst response = await fetch(`https://grocceries.herokuapp.com/api/groceries/v3.0/${category}/?filter=cheaper&limit=1`);\r\n\r\n\tconst raw = (await response.json())[0];\r\n\r\n\tconst data: CheaperType = {\r\n\t\tisLoading: false,\r\n\t\tisError: false,\r\n\t\thref: raw.link,\r\n\t\tprice: Math.round((raw.pricePerKg && raw.pricePerKg) || NaN),\r\n\t}\r\n\r\n\treturn data;\r\n\r\n}\r\n\r\nexport const getGoods = async (\r\n\tminPrice: number,\r\n\tmaxPrice: number,\r\n\trestrictedShops: Array<string | number>, // array of id\r\n\tsortOrder: 'up' | 'down',\r\n\tcategory: CategoryType,\r\n) => {\r\n\tconst params = new URLSearchParams();\r\n\r\n\tparams.append('price', minPrice + '-' + maxPrice);\r\n\tparams.append('shops', restrictedShops.join(','));\r\n\tparams.append('limit', '150');\r\n\tparams.append('filter', `${(sortOrder === 'up' && 'cheaper') || (sortOrder === 'down' && 'expensive')}`);\r\n\r\n\tconst url = 'https://grocceries.herokuapp.com/api/groceries/v3.0/' + category + '/?' + params.toString();\r\n\r\n\tconst response = await fetch(url);\r\n\tconst raw: Array<{\r\n\t\t_id: number | string,\r\n\t\ttitle: string,\r\n\t\tlink: string,\r\n\t\tpictureLink: string,\r\n\t\tshopName: string,\r\n\t\tweight: number,\r\n\t\tpricePerKg: number,\r\n\t}> = await response.json();\r\n\r\n\tconst data: GoodType[] = raw.map(rawGood => ({\r\n\t\tid: rawGood._id,\r\n\t\ttitle: rawGood.title,\r\n\t\tlink: rawGood.link,\r\n\t\tpictureLink: rawGood.pictureLink,\r\n\t\tpricePerKg: Math.round(rawGood.pricePerKg),\r\n\t\tshopName: rawGood.shopName,\r\n\t\tweight: rawGood.weight,\r\n\t}));\r\n\r\n\treturn data;\r\n}\r\n\r\nexport const getChartData = async (category: CategoryType) => {\r\n\tconst response = await fetch(`https://grocceries.herokuapp.com/api/groceries/v3.0/history/${category}`);\r\n\tconst raw: Array<{ date: string, price: number }> = await response.json();\r\n\r\n\tconst data: StatisticsItem[] = raw\r\n\t\t.map(item => ({\r\n\t\t\tdate: new Date(item.date),\r\n\t\t\tprice: item.price,\r\n\t\t}))\r\n\t\t.slice(0, 31)\r\n\t\t.reverse()\r\n\r\n\treturn data;\r\n}\r\n","import { ShopExtended } from './ShopType';\r\n\r\nexport interface FiltersState {\r\n\tisVisible: boolean,\r\n\tprice: {\r\n\t\tmin: number,\r\n\t\tmax: number,\r\n\t},\r\n\tsortDirection: 'up' | 'down',\r\n\tshops: ShopExtended[],\r\n}\r\n\r\nexport enum FiltersActionsTypes {\r\n\tUPDATE_FILTERS_VISIBILITY = 'filters/UPDATE_FILTERS_VISIBILITY',\r\n\tUPDATE_MIN_PRICE = 'filters/UPDATE_MIN_PRICE',\r\n\tUPDATE_MAX_PRICE = 'filters/UPDATE_MAX_PRICE',\r\n\tINVERT_SORT_DIRECTION = 'filters/INVERT_SORT_DIRECTION',\r\n\tUPDATE_LIST_OF_SHOPS = 'filters/UPDATE_LIST_OF_SHOPS',\r\n}\r\n\r\ninterface UpdateFiltersVisibility {\r\n\ttype: FiltersActionsTypes.UPDATE_FILTERS_VISIBILITY;\r\n\tpayload: 'hide' | 'show';\r\n}\r\n\r\ninterface UpdateMinMaxPrice {\r\n\ttype: FiltersActionsTypes.UPDATE_MAX_PRICE | FiltersActionsTypes.UPDATE_MIN_PRICE,\r\n\tpayload: number,\r\n}\r\n\r\ninterface InvertSortDirection {\r\n\ttype: FiltersActionsTypes.INVERT_SORT_DIRECTION\r\n}\r\n\r\ninterface UpdateListOfShops {\r\n\ttype: FiltersActionsTypes.UPDATE_LIST_OF_SHOPS,\r\n\tpayload: {\r\n\t\tid: string,\r\n\t}\r\n}\r\n\r\nexport type FiltersAction =\r\n\tUpdateFiltersVisibility\r\n\t| UpdateMinMaxPrice\r\n\t| InvertSortDirection\r\n\t| UpdateListOfShops;\r\n","import { Dispatch } from 'react';\r\nimport { CategoryType } from '../../types/CategoryType';\r\nimport { GoodsActionType, GoodsActionsTypes } from '../../types/goods';\r\nimport { getCheaper, getGoods } from '../API';\r\nimport { RootState } from '../reducers';\r\n\r\nexport const fetchCheaper = (category: CategoryType) => {\r\n\tconst thunk = async (dispatch: Dispatch<GoodsActionType>) => {\r\n\t\ttry {\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: GoodsActionsTypes.FETCH_CHEAPER\r\n\t\t\t});\r\n\r\n\t\t\tconst dataFromServer = await getCheaper(category);\r\n\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: GoodsActionsTypes.UPDATE_CHEAPER,\r\n\t\t\t\tpayload: {\r\n\t\t\t\t\thref: dataFromServer.href,\r\n\t\t\t\t\tprice: dataFromServer.price,\r\n\t\t\t\t\tisError: false,\r\n\t\t\t\t\tisLoading: false,\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t} catch (error) {\r\n\t\t\tconsole.error(`Can't proceed 'fetchCheaper'. ErrorCode: ${error}`);\r\n\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: GoodsActionsTypes.UPDATE_IS_CHEAPER_ERROR,\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\treturn thunk;\r\n}\r\n\r\nexport const fetchGoods = () => {\r\n\tconst thunk = async (dispatch: Dispatch<GoodsActionType>, getState: () => RootState) => {\r\n\t\tdispatch({\r\n\t\t\ttype: GoodsActionsTypes.FETCH_GOODS,\r\n\t\t})\r\n\r\n\t\ttry {\r\n\t\t\tconst state = getState();\r\n\t\t\tconst minPrice = state.filters.price.min;\r\n\t\t\tconst maxPrice = state.filters.price.max;\t\t\t\r\n\t\t\tconst shops = state.filters.shops.filter(shop => !shop.allowed).map(shop => shop.humanName);\r\n\t\t\tconst sortDirection = state.filters.sortDirection;\r\n\t\t\tconst category = state.navigation.currentTab;\r\n\r\n\t\t\tconst dataFromServer = await getGoods(\r\n\t\t\t\tminPrice, maxPrice, shops, sortDirection, category,\r\n\t\t\t);\r\n\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: GoodsActionsTypes.UPDATE_GOODS,\r\n\t\t\t\tpayload: dataFromServer,\r\n\t\t\t})\r\n\t\t} catch (error) {\r\n\t\t\tconsole.error(`Can't proceed fetchGoods, ${error}`)\r\n\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: GoodsActionsTypes.UPDATE_IS_GOODS_ERROR,\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\treturn thunk;\r\n}","import { FiltersAction, FiltersActionsTypes } from \"../../types/filters\"\r\n\r\nexport const updateFiltersVisibility = (payload: 'hide' | 'show'): FiltersAction => {\r\n\treturn {\r\n\t\ttype: FiltersActionsTypes.UPDATE_FILTERS_VISIBILITY,\r\n\t\tpayload: payload,\r\n\t}\r\n}\r\n\r\nexport const updateMinPrice = (newMin: number): FiltersAction => {\r\n\treturn {\r\n\t\ttype: FiltersActionsTypes.UPDATE_MIN_PRICE,\r\n\t\tpayload: newMin,\r\n\t}\r\n}\r\nexport const updateMaxPrice = (newMax: number): FiltersAction => {\r\n\treturn {\r\n\t\ttype: FiltersActionsTypes.UPDATE_MAX_PRICE,\r\n\t\tpayload: newMax,\r\n\t}\r\n}\r\nexport const invertSortDirection = (): FiltersAction => {\r\n\treturn {\r\n\t\ttype: FiltersActionsTypes.INVERT_SORT_DIRECTION\r\n\t}\r\n}\r\nexport const updateListOfShops = (id: string): FiltersAction => ({\r\n\ttype: FiltersActionsTypes.UPDATE_LIST_OF_SHOPS,\r\n\tpayload: {\r\n\t\tid: id,\r\n\t}\r\n})","export interface StatisticsItem {\r\n\tprice: number,\r\n\tdate: Date,\r\n}\r\n\r\nexport interface StatisticsState {\r\n\tisError: boolean,\r\n\tisLoading: boolean,\r\n\tdata: StatisticsItem[],\r\n}\r\n\r\nexport enum StatiscticsActions {\r\n\tFETCH_CHART_DATA = 'statistics/FETCH_CHART_DATA',\r\n\tUPDATE_CHART_DATA = 'statistics/UPDATE_CHART_DATA',\r\n\tSHOW_ERROR_CHART_DATA = 'statistics/SHOW_ERROR_CHART_DATA',\r\n}\r\n\r\ninterface FetchChartData {\r\n\ttype: StatiscticsActions.FETCH_CHART_DATA,\r\n}\r\n\r\ninterface UpdateChartData {\r\n\ttype: StatiscticsActions.UPDATE_CHART_DATA,\r\n\tpayload: StatisticsItem[],\r\n}\r\n\r\ninterface ShowErrorChartData {\r\n\ttype: StatiscticsActions.SHOW_ERROR_CHART_DATA,\r\n}\r\n\r\nexport type StatisticsAction = FetchChartData | UpdateChartData | ShowErrorChartData;\r\n","import { Dispatch } from \"react\";\r\nimport { StatiscticsActions, StatisticsAction, StatisticsItem } from \"../../types/statistics\";\r\nimport { getChartData } from \"../API\";\r\nimport { RootState } from \"../reducers\";\r\n\r\nexport const updateChartData = (data: StatisticsItem[]): StatisticsAction => ({\r\n\ttype: StatiscticsActions.UPDATE_CHART_DATA,\r\n\tpayload: data,\r\n});\r\n\r\nexport const showErrorChartData = (): StatisticsAction => ({\r\n\ttype: StatiscticsActions.SHOW_ERROR_CHART_DATA,\r\n})\r\n\r\nexport const fetchChartData = () => {\r\n\tconst thunk = async (dispatch: Dispatch<StatisticsAction>, getState: () => RootState) => {\r\n\t\tdispatch({\r\n\t\t\ttype: StatiscticsActions.FETCH_CHART_DATA,\r\n\t\t});\r\n\r\n\t\ttry {\r\n\t\t\tconst { currentTab } = getState().navigation;\r\n\r\n\t\t\tconst data = await getChartData(currentTab);\r\n\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: StatiscticsActions.UPDATE_CHART_DATA,\r\n\t\t\t\tpayload: data,\r\n\t\t\t})\r\n\t\t} catch (error) {\r\n\t\t\tconsole.error('Cant process fetchChartData,', error)\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: StatiscticsActions.SHOW_ERROR_CHART_DATA\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\treturn thunk;\r\n}\r\n\r\n","import * as navigationActionCreators from './navigation';\r\nimport * as goodsActionCreators from './goods';\r\nimport * as filtersActionCreators from './filters';\r\nimport * as statisticsActionCreators from './statistics';\r\n\r\nexport const actionCreators = {\r\n\t...navigationActionCreators,\r\n\t...goodsActionCreators,\r\n\t...filtersActionCreators,\r\n\t...statisticsActionCreators,\r\n}\r\n","import { useDispatch } from 'react-redux';\r\nimport { bindActionCreators } from 'redux';\r\nimport { actionCreators } from '../store/action-creators';\r\n\r\nexport const useActions = () => bindActionCreators(\r\n\tactionCreators, useDispatch()\r\n)\r\n","import { TypedUseSelectorHook, useSelector } from 'react-redux';\r\nimport { RootState } from '../store/reducers';\r\n\r\nexport const useTypedSelector: TypedUseSelectorHook<RootState> = useSelector;\r\n","import React, { ChangeEventHandler, FormEventHandler } from 'react';\r\n\r\nimport './NumberInput.scss';\r\n\r\ntype NumberInputProps = {\r\n\tonChange: FormEventHandler,\r\n\tvalue: number,\r\n\tcustomClassNames?: string,\r\n\tmin: number,\r\n\tmax: number,\r\n\tname?: string,\r\n}\r\n\r\nexport const NumberInput: React.FunctionComponent<NumberInputProps> = ({\r\n\tonChange,\r\n\tvalue,\r\n\tcustomClassNames,\r\n\tname\r\n}) => (\r\n\t<input\r\n\t\ttype=\"number\"\r\n\t\tonChange={onChange}\r\n\t\tvalue={value}\r\n\t\tmin={0}\r\n\t\tmax={1000}\r\n\t\tname={name}\r\n\t\tclassName={`NumberInput ${customClassNames}`}\r\n\t/>\r\n)\r\n","import React, { MouseEventHandler } from 'react';\r\n\r\nimport './Switch.scss';\r\n\r\ninterface SwitchProps {\r\n\tdirection: 'up' | 'down',\r\n\tlabelWhenUp: string,\r\n\tlabelWhenDown: string,\r\n\tcustomClassNames?: string,\r\n\tonClick: MouseEventHandler,\r\n}\r\n\r\nexport const Switch: React.FunctionComponent<SwitchProps> = ({\r\n\tdirection,\r\n\tlabelWhenDown,\r\n\tlabelWhenUp,\r\n\tcustomClassNames,\r\n\tonClick\r\n}) => {\r\n\treturn (\r\n\t\t<button\r\n\t\t\tclassName={`Switch Switch--${direction} ${customClassNames}`}\r\n\t\t\tonClick={onClick}\r\n\t\t>\r\n\t\t\t{direction === 'up' ? labelWhenUp : labelWhenDown}\r\n\t\t</button>\r\n\t)\r\n}","import classNames from 'classnames';\r\nimport React, { ChangeEventHandler, useMemo } from 'react';\r\n\r\nimport './Toggler.scss';\r\n\r\ninterface TogglerProps {\r\n\tchecked: boolean,\r\n\tonChange: ChangeEventHandler,\r\n\tleftLable?: string,\r\n\trightLable?: string,\r\n\tkey?: any,\r\n}\r\n\r\nexport const Toggler: React.FunctionComponent<TogglerProps> = ({\r\n\tchecked,\r\n\tonChange,\r\n\tleftLable,\r\n\trightLable\r\n}) => {\r\n\tconst inputId = useMemo(() => `${Math.random()}`, [])\r\n\r\n\treturn (\r\n\t\t<div\r\n\t\t\tclassName=\"Toggler\"\r\n\t\t>\r\n\t\t\t{leftLable && (\r\n\t\t\t\t<label\r\n\t\t\t\t\tclassName={classNames({\r\n\t\t\t\t\t\t'Toggler__label': true,\r\n\t\t\t\t\t\t'Toggler__label--left': true,\r\n\t\t\t\t\t\t'Toggler__label--active': !checked,\r\n\t\t\t\t\t})}\r\n\t\t\t\t\thtmlFor={inputId}\r\n\t\t\t\t>\r\n\t\t\t\t\t{leftLable}\r\n\t\t\t\t</label>\r\n\t\t\t)}\r\n\r\n\t\t\t<input\r\n\t\t\t\tid={inputId}\r\n\t\t\t\tchecked={checked}\r\n\t\t\t\tonChange={onChange}\r\n\t\t\t\ttype=\"checkbox\"\r\n\t\t\t\tclassName=\"Toggler__input-checkbox\"\r\n\t\t\t/>\r\n\r\n\t\t\t{rightLable && (\r\n\t\t\t\t<label\r\n\t\t\t\t\tclassName={classNames({\r\n\t\t\t\t\t\t'Toggler__label': true,\r\n\t\t\t\t\t\t'Toggler__label--right': true,\r\n\t\t\t\t\t\t'Toggler__label--active': checked,\r\n\t\t\t\t\t})}\r\n\t\t\t\t\thtmlFor={inputId}\r\n\t\t\t\t>\r\n\t\t\t\t\t{rightLable}\r\n\t\t\t\t</label>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t)\r\n}","import React, { ChangeEvent, useState } from 'react';\r\nimport { useActions } from '../../hooks/useActions';\r\nimport { useTypedSelector } from '../../hooks/useTypedSelector';\r\nimport { NumberInput } from '../NumberInput';\r\nimport { Switch } from '../Switch';\r\nimport { Toggler } from '../Toggler/Toggler';\r\n\r\nimport './Filters.scss';\r\n\r\nexport const Filters: React.FunctionComponent = () => {\r\n\tconst { updateMinPrice, updateMaxPrice, invertSortDirection, updateListOfShops, fetchGoods } = useActions();\r\n\tconst { price, sortDirection, shops } = useTypedSelector(state => state.filters);\r\n\tconst { currentTab } = useTypedSelector(state => state.navigation)\r\n\r\n\tconst priceLimitations = {\r\n\t\tmin: 0,\r\n\t\tmax: 1000,\r\n\t}\r\n\r\n\tconst [priceTimeout, setPriceTimeout] = useState(0);\r\n\r\n\tconst changePriceHandler = (event: ChangeEvent<HTMLInputElement>, type: 'min' | 'max') => {\r\n\t\tclearTimeout(priceTimeout);\r\n\t\tconst newValue = +event.target.value;\r\n\t\tconst DELAY = 1000;\r\n\r\n\t\tif (type === 'min') {\r\n\t\t\tupdateMinPrice(newValue);\r\n\t\t\tsetPriceTimeout(window.setTimeout(() => {\r\n\t\t\t\tif (newValue > price.max) {\r\n\t\t\t\t\tupdateMaxPrice(newValue);\r\n\t\t\t\t}\r\n\t\t\t\tfetchGoods();\r\n\t\t\t}, DELAY))\r\n\t\t} else if (type === 'max') {\r\n\t\t\tupdateMaxPrice(newValue);\r\n\t\t\tsetPriceTimeout(window.setTimeout(() => {\r\n\t\t\t\tif (newValue < price.min) {\r\n\t\t\t\t\tupdateMinPrice(newValue)\r\n\t\t\t\t}\r\n\t\t\t\tfetchGoods();\r\n\t\t\t}, DELAY))\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<section className={`Filters Filters--${currentTab}`}>\r\n\t\t\t<div className=\"Filters__container Filters__row\">\r\n\t\t\t\t<h3 className=\"Filters__title\">Ціна</h3>\r\n\t\t\t\t&nbsp;від&nbsp;\r\n\t\t\t\t<NumberInput\r\n\t\t\t\t\tcustomClassNames=\"Filters__price-input\"\r\n\t\t\t\t\tvalue={price.min}\r\n\t\t\t\t\tonChange={(event: ChangeEvent<HTMLInputElement>) => { changePriceHandler(event, 'min') }}\r\n\t\t\t\t\tmin={priceLimitations.min}\r\n\t\t\t\t\tmax={priceLimitations.max}\r\n\t\t\t\t/>\r\n\t\t\t\t&nbsp;до&nbsp;\r\n\t\t\t\t<NumberInput\r\n\t\t\t\t\tcustomClassNames=\"Filters__price-input\"\r\n\t\t\t\t\tvalue={price.max}\r\n\t\t\t\t\tonChange={(event: ChangeEvent<HTMLInputElement>) => { changePriceHandler(event, 'max') }}\r\n\t\t\t\t\tmin={priceLimitations.min}\r\n\t\t\t\t\tmax={priceLimitations.max}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className=\"Filters__container Filters__row\">\r\n\t\t\t\t<h3 className=\"Filters__title\">Сортувати</h3>\r\n\t\t\t\t&nbsp;&nbsp;\r\n\t\t\t\t<Switch\r\n\t\t\t\t\tdirection={sortDirection}\r\n\t\t\t\t\tlabelWhenUp=\"спершу Дешевші\"\r\n\t\t\t\t\tlabelWhenDown=\"спершу Дорожі\"\r\n\t\t\t\t\tonClick={() => { invertSortDirection(); fetchGoods(); }}\r\n\t\t\t\t\tcustomClassNames=\"Filters__switch\"\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className=\"Filters__container\">\r\n\t\t\t\t<h3 className=\"Filters__title\">Доступні магазини:</h3>\r\n\t\t\t\t<ul className=\"Filters__shops-box\">\r\n\t\t\t\t\t{shops.map(shop => (\r\n\t\t\t\t\t\t<Toggler\r\n\t\t\t\t\t\t\tkey={shop.id}\r\n\t\t\t\t\t\t\tchecked={shop.allowed}\r\n\t\t\t\t\t\t\tonChange={() => { updateListOfShops(shop.id); fetchGoods(); }}\r\n\t\t\t\t\t\t\trightLable={shop.humanName}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t))}\r\n\t\t\t\t</ul>\r\n\t\t\t</div>\r\n\t\t</section>\r\n\t);\r\n}","import React, { useEffect } from 'react';\r\nimport { useActions } from '../../hooks/useActions';\r\nimport { useTypedSelector } from '../../hooks/useTypedSelector';\r\n\r\nimport './Goods.scss';\r\nimport './Good.scss';\r\nimport { GoodType } from '../../types/goods';\r\nimport classNames from 'classnames';\r\n\r\ntype GoodProps = GoodType & {\r\n\tisLoading: boolean;\r\n}\r\n\r\nconst Good: React.FunctionComponent<GoodProps> = ({ isLoading, link, pictureLink, pricePerKg, weight, shopName, title }) => {\r\n\treturn (\r\n\t\t<li className={classNames({\r\n\t\t\t'Good': true,\r\n\t\t\t'Good--is-loading': isLoading,\r\n\t\t})}>\r\n\t\t\t<a href={link} className=\"Good__link\" target=\"_blank\" rel=\"noreferer noopener\">\r\n\t\t\t\t<div className=\"Good__illustration-wrapper\">\r\n\t\t\t\t\t<img src={pictureLink} alt={`ілюстрація до товару з назвою ${title}`} className=\"Good__image\" width=\"100%\" height=\"170px\" />\r\n\t\t\t\t</div>\r\n\t\t\t\t<h3 className=\"Good__title\" title={title}>\r\n\t\t\t\t\t{title.length < 38 ? title : (title.slice(0, 35) + '...')}\r\n\t\t\t\t</h3>\r\n\t\t\t\t<p className=\"Good__info-row\">\r\n\t\t\t\t\t<span className=\"Good__producer\">{shopName}</span>\r\n\t\t\t\t\t<span className=\"Good__portion\">${weight} г / упакова</span>\r\n\t\t\t\t</p>\r\n\t\t\t\t<p className=\"Good__price\">\r\n\t\t\t\t\t<span className=\"Good__price-big\">{pricePerKg}</span>\r\n\t\t\t\t\t&nbsp;\r\n\t\t\t\t\t<span className=\"Good__price-small\">грн / кг</span>\r\n\t\t\t\t</p>\r\n\t\t\t</a>\r\n\t\t</li>\r\n\t)\r\n}\r\n\r\nexport const Goods: React.FunctionComponent = () => {\r\n\tconst { goods, goods: { goodsList } } = useTypedSelector(state => state.goods);\r\n\tconst { currentTab } = useTypedSelector(state => state.navigation)\r\n\r\n\tconst { fetchGoods } = useActions();\r\n\r\n\tuseEffect(() => {\r\n\t\tfetchGoods();\r\n\t}, [])\r\n\r\n\tuseEffect(() => {\r\n\t\tfetchGoods();\r\n\t},\r\n\t\t[currentTab])\r\n\r\n\treturn (\r\n\t\t<ul className={classNames({\r\n\t\t\t'Goods': true,\r\n\t\t\t'Goods--error': goods.isError || !goodsList.length,\r\n\t\t})}>\r\n\t\t\t{!goods.isError && (\r\n\t\t\t\tgoodsList.length ? (\r\n\t\t\t\t\tgoodsList.map(good => (\r\n\t\t\t\t\t\t<Good\r\n\t\t\t\t\t\t\tkey={good.id}\r\n\t\t\t\t\t\t\tisLoading={goods.isLoading}\r\n\t\t\t\t\t\t\tid={good.id}\r\n\t\t\t\t\t\t\tlink={good.link}\r\n\t\t\t\t\t\t\ttitle={good.title}\r\n\t\t\t\t\t\t\tpictureLink={good.pictureLink}\r\n\t\t\t\t\t\t\tpricePerKg={good.pricePerKg}\r\n\t\t\t\t\t\t\tshopName={good.shopName}\r\n\t\t\t\t\t\t\tweight={good.weight}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t))\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<div className=\"Goods__error-message\">\r\n\t\t\t\t\t\tМи не змогли знайти для вас товари.\r\n\t\t\t\t\t\t<br />Змініть будь ласка фільтри⚙\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)\r\n\t\t\t)}\r\n\t\t\t{goods.isError && (\r\n\t\t\t\t<div className=\"Goods__error-message\">\r\n\t\t\t\t\tУпс, щось пішло не туди😢\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\tПерезавантаж сторінку або спробуй пізніше\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t</ul>\r\n\t)\r\n}","import React, { useEffect } from 'react';\r\nimport { useActions } from '../../hooks/useActions';\r\nimport { useTypedSelector } from '../../hooks/useTypedSelector';\r\nimport { Filters } from '../Filters';\r\nimport { Goods } from '../Goods';\r\n\r\nimport './AnotherOffers.scss';\r\n\r\nexport const AnotherOffers: React.FunctionComponent = () => {\r\n\tconst { currentTab } = useTypedSelector(state => state.navigation);\r\n\tconst { isVisible: isFiltersVisible } = useTypedSelector(state => state.filters);\r\n\tconst { updateFiltersVisibility } = useActions();\r\n\r\n\treturn (\r\n\t\t<article className={`restrictor1200 AnotherOffers AnotherOffers--${currentTab}`}>\r\n\t\t\t<div className=\"AnotherOffers__top-row\">\r\n\t\t\t\t<h2 className=\"AnotherOffers__title textChapterTitle\">\r\n\t\t\t\t\tІнші ціни\r\n\t\t\t\t</h2>\r\n\t\t\t\t<button\r\n\t\t\t\t\tclassName=\"AnotherOffers__filters-toggler\"\r\n\t\t\t\t\tonClick={() => { updateFiltersVisibility(isFiltersVisible ? 'hide' : 'show') }}\r\n\t\t\t\t>\r\n\t\t\t\t\t{isFiltersVisible ? 'Сховати' : 'Показати'} фільтри\r\n\t\t\t\t</button>\r\n\t\t\t\t<br></br>\r\n\t\t\t</div>\r\n\t\t\t{isFiltersVisible && <Filters />}\r\n\t\t\t<div className=\"AnotherOffers__bottom-row\">\r\n\t\t\t\t<Goods />\r\n\t\t\t</div>\r\n\t\t</article>\r\n\t);\r\n}","import { CategoryType } from '../types/CategoryType';\r\n\r\ntype LinguisticType = {\r\n\t[key in CategoryType]: string;\r\n}\r\n\r\nexport const CASUS_NOMINATIVUS: LinguisticType = { // this is Називний Відмінок in Ukrainian language\r\n\tcorn: 'Кукурузка',\r\n\tbuckwheat: 'Гречка',\r\n\trice: 'Рис',\r\n\tbarley: 'Ячмінь',\r\n\twheat: 'Пшениця',\r\n}\r\n\r\nexport const CHEAPER_CASUS_GENETIVUS: LinguisticType = { // this is найдешевш.. Родовий відмінок in Ukrainian language\r\n\tcorn: 'найдешевшої кукурузки',\r\n\tbuckwheat: 'найдешевшої гречки',\r\n\trice: 'найдешевшого рису',\r\n\tbarley: 'найдешевшого ячменю',\r\n\twheat: 'найдешевшої пшениці',\r\n}\r\n\r\nexport const MONTHS_NAMES = {\r\n\tcasusNominativus: [\r\n\t\t'Січень',\r\n\t\t'Лютий',\r\n\t\t'Березень',\r\n\t\t'Квітень',\r\n\t\t'Травень',\r\n\t\t'Червень',\r\n\t\t'Липень',\r\n\t\t'Серпень',\r\n\t\t'Вересень',\r\n\t\t'Жовтень',\r\n\t\t'Листопад',\r\n\t\t'Грудень',\r\n\t],\r\n\tcasusGenetivus: [\r\n\t\t'Січня',\r\n\t\t'Лютого',\r\n\t\t'Березня',\r\n\t\t'Квітня',\r\n\t\t'Травня',\r\n\t\t'Червня',\r\n\t\t'Липня',\r\n\t\t'Серпня',\r\n\t\t'Вересня',\r\n\t\t'Жовтня',\r\n\t\t'Листопада',\r\n\t\t'Грудня',\r\n\t]\r\n}\r\n","import React from 'react';\r\nimport classNames from 'classnames';\r\n\r\nimport { CategoryType } from '../../types/CategoryType';\r\nimport { CASUS_NOMINATIVUS } from '../../constants/linguistics';\r\nimport { POSSIBLE_CATEGORIES } from '../../constants/POSSIBLE_CATEGORIES';\r\nimport { useTypedSelector } from '../../hooks/useTypedSelector';\r\nimport { useActions } from '../../hooks/useActions';\r\n\r\nimport './Navigation.scss';\r\n\r\ninterface LinkPropsType {\r\n\titsCategory: CategoryType,\r\n\tactiveCategory: CategoryType,\r\n}\r\n\r\nconst Link: React.FunctionComponent<LinkPropsType> = ({ itsCategory, activeCategory }) => {\r\n\tconst { updateCategory } = useActions();\r\n\r\n\treturn (\r\n\t\t<li className={classNames({\r\n\t\t\t\"Navigation__wrapper\": true,\r\n\t\t\t'Navigation__wrapper--active': activeCategory === itsCategory,\r\n\t\t})}>\r\n\t\t\t<button\r\n\t\t\t\tclassName={`Navigation__button Navigation__button--${activeCategory}-mode`}\r\n\t\t\t\tonClick={() => updateCategory(itsCategory)}\r\n\t\t\t>\r\n\t\t\t\t{CASUS_NOMINATIVUS[itsCategory]}\r\n\t\t\t</button>\r\n\t\t</li>\r\n\t)\r\n}\r\n\r\nexport const Navigation: React.FunctionComponent = () => {\r\n\tconst { currentTab: activeCategory } = useTypedSelector(state => state.navigation);\r\n\r\n\treturn (\r\n\t\t<nav className=\"Navigation\">\r\n\t\t\t<h2 className=\"textChapterTitle Navigation__title\">\r\n\t\t\t\tІнші категорії\r\n\t\t\t</h2>\r\n\t\t\t<ul className=\"Navigation__ul\">\r\n\t\t\t\t{POSSIBLE_CATEGORIES.map(category => (\r\n\t\t\t\t\t<Link\r\n\t\t\t\t\t\titsCategory={category}\r\n\t\t\t\t\t\tactiveCategory={activeCategory}\r\n\t\t\t\t\t\tkey={category}\r\n\t\t\t\t\t/>\r\n\t\t\t\t))}\r\n\t\t\t</ul>\r\n\t\t</nav>\r\n\t)\r\n}\r\n","import React from 'react';\r\n\r\ninterface RadarPreloaderPropsType {\r\n\tside: number;\r\n\tcolor?: string;\r\n}\r\n\r\nexport const RadarPreloader: React.FunctionComponent<RadarPreloaderPropsType> = ({ side = 25, color = \"#000\" }) => {\r\n\treturn (\r\n\t\t<svg width={`${side}px`} height={`${side}px`} xmlns=\"http://www.w3.org/2000/svg\" version=\"1.0\" viewBox=\"0 0 128 128\">\r\n\t\t\t<rect x=\"0\" y=\"0\" width=\"100%\" height=\"100%\" fill=\"transparent\" />\r\n\t\t\t<path fill={color} className=\"cls-1\" d=\"M64 127.75a64 64 0 1 1 64-64 64 64 0 0 1-64 64zM125.72 65h-13.75A47.86 47.86 0 0 1 65 111.73v13.74A61.73 61.73 0 0 0 125.72 65zM65 65v21.95A23.2 23.2 0 0 0 87.2 65H65zm22.2-2A23.22 23.22 0 0 0 65 40.55V63h22.23zm-46.37 2A23.2 23.2 0 0 0 63 86.95V65H40.8zM63 63V40.55A23.22 23.22 0 0 0 40.78 63H63zm-24.2 2H18.3A45.85 45.85 0 0 0 63 109.72V88.95A25.2 25.2 0 0 1 38.8 65zm0-2A25.2 25.2 0 0 1 63 38.55V18.03A45.85 45.85 0 0 0 18.28 63h20.5zM65 38.55A25.2 25.2 0 0 1 89.2 63h20.77A45.85 45.85 0 0 0 65 18.03v20.52zM89.2 65A25.2 25.2 0 0 1 65 88.95v20.77A45.85 45.85 0 0 0 109.97 65H89.2zM63 125.47v-13.75A47.86 47.86 0 0 1 16.28 65h-14A61.73 61.73 0 0 0 63 125.47zM2.27 63h14A47.86 47.86 0 0 1 63 16.03v-14A61.73 61.73 0 0 0 2.27 63zM65 2.02v14A47.86 47.86 0 0 1 111.98 63h13.75A61.73 61.73 0 0 0 65 2.02z\" />\r\n\t\t\t<g>\r\n\t\t\t\t<linearGradient id=\"RadarPreloader_linear-gradient\">\r\n\t\t\t\t\t<stop offset=\"0%\" stopColor=\"#000000\" />\r\n\t\t\t\t\t<stop offset=\"100%\" stopColor=\"#ffffff\" />\r\n\t\t\t\t</linearGradient>\r\n\t\t\t\t<path fill=\"url(#RadarPreloader_linear-gradient)\" fillOpacity=\"0.5\" d=\"M65.128,64.894l0.025,60.968a61.781,61.781,0,0,1-32.011-8.315q-0.705-.406-1.4-0.83L62.531,63.4Z\" />\r\n\t\t\t\t<animateTransform attributeName=\"transform\" type=\"rotate\" from=\"0 64 64\" to=\"360 64 64\" dur=\"1710ms\" repeatCount=\"indefinite\"></animateTransform>\r\n\t\t\t\t<path fill=\"#000000\" d=\"M62.531,63.4l2.6,1.5L34.257,118.374l-2.6-1.5Z\" />\r\n\t\t\t</g>\r\n\t\t\t<circle fill=\"#000000\" cx=\"55.641\" cy=\"97.563\" r=\"6.047\">\r\n\t\t\t\t<animate attributeName=\"opacity\" dur=\"1710ms\" begin=\"0s\" repeatCount=\"indefinite\" keyTimes=\"0;1\" values=\"1;0\" />\r\n\t\t\t</circle>\r\n\t\t</svg>\r\n\t)\r\n};\r\n","import React, { useEffect } from 'react';\r\n\r\nimport { useTypedSelector } from '../../hooks/useTypedSelector';\r\nimport { RadarPreloader } from '../RadarPreloader';\r\nimport { useActions } from '../../hooks/useActions'\r\nimport { CHEAPER_CASUS_GENETIVUS } from '../../constants/linguistics';\r\n\r\nimport './Central.scss';\r\n\r\nexport const Central: React.FunctionComponent = () => {\r\n\tconst { isError, isLoading, price, href } = useTypedSelector(state => state.goods.cheaper);\r\n\tconst { currentTab } = useTypedSelector(state => state.navigation);\r\n\tconst { fetchCheaper } = useActions();\r\n\r\n\t/* eslint-disable */\r\n\tuseEffect(() => {\r\n\t\tfetchCheaper(currentTab)\r\n\t}, [currentTab]);\r\n\t/* eslint-enable */\r\n\r\n\treturn (\r\n\t\t<section className=\"Central\">\r\n\t\t\t<h1 className=\"Central__title\">\r\n\t\t\t\tЦіна {CHEAPER_CASUS_GENETIVUS[currentTab]} в Україні\r\n\t\t\t</h1>\r\n\t\t\t<p className={`Central__price-wrapper Central__price-wrapper--${currentTab}`}>\r\n\t\t\t\t<span className=\"Central__digits\">\r\n\t\t\t\t\t{isLoading && <RadarPreloader side={100} color=\"#aaa\" />}\r\n\t\t\t\t\t{isError && 'Error'}\r\n\t\t\t\t\t{!isError && !isLoading && price}\r\n\t\t\t\t</span>\r\n\t\t\t\t<span className=\"Central__measure-units\">грн / кг</span>\r\n\t\t\t</p>\r\n\t\t\t<a\r\n\t\t\t\thref={href}\r\n\t\t\t\ttarget=\"_blank\"\r\n\t\t\t\trel=\"noopener noreferrer\"\r\n\t\t\t\tclassName={`Central__link-to-seller Central__link-to-seller--${currentTab}`}\r\n\t\t\t>\r\n\t\t\t\tвідкрити сайт продавця\r\n\t\t\t</a>\r\n\t\t</section>\r\n\t)\r\n}\r\n","import React from 'react';\r\nimport { useTypedSelector } from '../../hooks/useTypedSelector';\r\n\r\nimport { CASUS_NOMINATIVUS } from '../../constants/linguistics';\r\nimport { Navigation } from '../Navigation';\r\n\r\nimport './MainScreen.scss';\r\nimport { Central } from '../Central';\r\n\r\nexport const MainScreen: React.FunctionComponent = () => {\r\n\tconst { currentTab: category } = useTypedSelector(state => state.navigation);\r\n\treturn (\r\n\t\t<article className={`MainScreen MainScreen--${category}`}>\r\n\t\t\t<p className=\"MainScreen__title\">\r\n\t\t\t\t{CASUS_NOMINATIVUS[category]}\r\n\t\t\t</p>\r\n\r\n\t\t\t<div className=\"MainScreen__second-row\">\r\n\t\t\t\t<Central />\r\n\t\t\t\t<Navigation />\r\n\t\t\t</div>\r\n\t\t</article>\r\n\t)\r\n}","import classNames from 'classnames';\r\nimport React, { useEffect } from 'react';\r\nimport { LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer } from 'recharts';\r\nimport { MONTHS_NAMES } from '../../constants/linguistics';\r\nimport { useActions } from '../../hooks/useActions';\r\nimport { useTypedSelector } from '../../hooks/useTypedSelector';\r\n\r\nimport './Chart.scss';\r\n\r\nconst calcWidth = (): number => {\r\n\tconst viewport = document.body.offsetWidth;\r\n\tlet maxWidth: number;\r\n\r\n\tif (viewport > 1260) {\r\n\t\tmaxWidth = 1200;\r\n\t} else {\r\n\t\tmaxWidth = viewport - 60;\r\n\t}\r\n\r\n\treturn maxWidth;\r\n}\r\n\r\nexport const Chart = () => {\r\n\tconst { data: rawData, isLoading, isError } = useTypedSelector(state => state.statistics);\r\n\tconst { currentTab } = useTypedSelector(state => state.navigation);\r\n\tconst { fetchChartData } = useActions();\r\n\r\n\tconst data = rawData\r\n\t\t.map(item => ({\r\n\t\t\t...item,\r\n\t\t\tdate: `${item.date.getDate()} ${MONTHS_NAMES.casusGenetivus[item.date.getMonth()]}`,\r\n\t\t}))\r\n\r\n\tuseEffect(() => {\r\n\t\tfetchChartData();\r\n\t}, [currentTab])\r\n\r\n\treturn (\r\n\t\t<div className=\"Chart\">\r\n\t\t\t<div className={classNames('Chart__wrapper', { 'Chart__wrapper--hidden': isLoading || isError })}>\r\n\t\t\t\t<LineChart\r\n\t\t\t\t\twidth={calcWidth()}\r\n\t\t\t\t\theight={300}\r\n\t\t\t\t\tdata={data}\r\n\t\t\t\t>\r\n\t\t\t\t\t<XAxis dataKey=\"date\" />\r\n\t\t\t\t\t<YAxis />\r\n\t\t\t\t\t<Tooltip />\r\n\t\t\t\t\t<Line type=\"basis\" dataKey=\"price\" name=\"ціна\" stroke=\"#542511\" activeDot={{ r: 8 }} />\r\n\t\t\t\t</LineChart>\r\n\t\t\t</div>\r\n\t\t\t{isLoading && (<div className=\"Chart__status-message Chart__status-message\">Loading...</div>)}\r\n\t\t\t{isError && (<div className=\"Chart__status-message Chart__status-message\">Ooops, error ocured</div>)}\r\n\t\t</div>\r\n\t)\r\n}\r\n","import React from 'react';\r\nimport { Chart } from '../Chart'\r\n\r\nimport './Statistics.scss';\r\n\r\nexport const Statistics: React.FunctionComponent = () => {\r\n\treturn (\r\n\t\t<article className=\"Statistics restrictor1200\">\r\n\t\t\t<h2 className=\"textChapterTitle Statistics__title\">\r\n\t\t\t\tСтатистика цін\r\n\t\t\t</h2>\r\n\t\t\t<div className=\"Statistics__chart-container\">\r\n\t\t\t\t<Chart />\r\n\t\t\t</div>\r\n\t\t</article>\r\n\t)\r\n}","import React from 'react';\r\n\r\nimport './Footer.scss';\r\n\r\nexport const Footer: React.FunctionComponent = () => (\r\n\t<footer className=\"Footer restrictor1200\">\r\n\t\t<div className=\"Footer__left\">\r\n\t\t\t<p className=\"Footer__source-code\">\r\n\t\t\t\tsource код\r\n\t\t\t\t&nbsp;\r\n\t\t\t\t<a\r\n\t\t\t\t\thref=\"https://github.com/andrii256-denysVarenik/grocceries-front\"\r\n\t\t\t\t\ttarget=\"_blank\"\r\n\t\t\t\t\trel=\"noreferer noopener\"\r\n\t\t\t\t\tclassName=\"Footer__source-code-link\">\r\n\t\t\t\t\tfrontend\r\n\t\t\t\t</a>\r\n\t\t\t</p>\r\n\t\t\t<p className=\"Footer__source-code\">\r\n\t\t\t\tsource код\r\n\t\t\t\t&nbsp;\r\n\t\t\t\t<a\r\n\t\t\t\t\thref=\"https://github.com/andrii256-denysVarenik/\"\r\n\t\t\t\t\ttarget=\"_blank\"\r\n\t\t\t\t\trel=\"noreferer noopener\"\r\n\t\t\t\t\tclassName=\"Footer__source-code-link\">\r\n\t\t\t\t\tbackend\r\n\t\t\t\t</a>\r\n\t\t\t</p>\r\n\t\t</div>\r\n\r\n\t\t<div className=\"Footer__center\">\r\n\t\t\t<p className=\"Footer__main-text\">\r\n\t\t\t\tmade with ❤️ by\r\n\t\t\t</p>\r\n\t\t\t<p className=\"Footer__main-text\">\r\n\t\t\t\t<a\r\n\t\t\t\t\thref=\"https://github.com/Andrii256\"\r\n\t\t\t\t\tclassName=\"Footer__author\"\r\n\t\t\t\t\ttitle=\"Андрій Грушецький (робив Frontend)\"\r\n\t\t\t\t\ttarget=\"_blank\"\r\n\t\t\t\t\trel=\"noreferer noopener\"\r\n\t\t\t\t>\r\n\t\t\t\t\t@andrii256\r\n\t\t\t\t</a>\r\n\t\t\t\t&nbsp;\r\n\t\t\t\t&\r\n\t\t\t\t&nbsp;\r\n\t\t\t\t<a\r\n\t\t\t\t\thref=\"https://github.com/Den-Varenik\"\r\n\t\t\t\t\tclassName=\"Footer__author\"\r\n\t\t\t\t\ttitle=\"Денис Вареник (робив Backend)\"\r\n\t\t\t\t\ttarget=\"_blank\"\r\n\t\t\t\t\trel=\"noreferer noopener\"\r\n\t\t\t\t>\r\n\t\t\t\t\t@den-varenik\r\n\t\t\t\t</a>\r\n\t\t\t</p>\r\n\t\t\t<p className=\"Footer__year-mark\">\r\n\t\t\t\t{new Date(Number(process.env.REACT_APP_REALEASE_MOMENT)).getFullYear()}\r\n\t\t\t</p>\r\n\t\t</div>\r\n\r\n\t\t<div className=\"Footer__right\">\r\n\t\t</div>\r\n\t</footer>\r\n)","import React from 'react';\r\nimport { AnotherOffers } from './components/AnotherOffers';\r\nimport { MainScreen } from './components/MainScreen';\r\nimport { Statistics } from './components/Statistics'\r\nimport { Footer } from './components/Footer';\r\n\r\nfunction App() {\r\n  return (\r\n    <div className=\"App\">\r\n      <MainScreen />\r\n      <AnotherOffers />\r\n      <Statistics />\r\n      <Footer />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import { GoodsActionsTypes, GoodsActionType, GoodsState } from \"../../types/goods\";\r\n\r\nconst initialState: GoodsState = {\r\n\tcheaper: {\r\n\t\tisError: false,\r\n\t\tisLoading: true,\r\n\t\thref: '',\r\n\t\tprice: null,\r\n\t},\r\n\tgoods: {\r\n\t\tisError: false,\r\n\t\tisLoading: true,\r\n\t\tgoodsList: [\r\n\t\t\t{\r\n\t\t\t\tid: Math.random(),\r\n\t\t\t\tpictureLink: '#',\r\n\t\t\t\tpricePerKg: 0,\r\n\t\t\t\tshopName: 'Loading',\r\n\t\t\t\tweight: 0,\r\n\t\t\t\tlink: '#',\r\n\t\t\t\ttitle: 'Loading'\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tid: Math.random(),\r\n\t\t\t\tpictureLink: '#',\r\n\t\t\t\tpricePerKg: 0,\r\n\t\t\t\tshopName: 'Loading',\r\n\t\t\t\tweight: 0,\r\n\t\t\t\tlink: '#',\r\n\t\t\t\ttitle: 'Loading'\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tid: Math.random(),\r\n\t\t\t\tpictureLink: '#',\r\n\t\t\t\tpricePerKg: 0,\r\n\t\t\t\tshopName: 'Loading',\r\n\t\t\t\tweight: 0,\r\n\t\t\t\tlink: '#',\r\n\t\t\t\ttitle: 'Loading'\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tid: Math.random(),\r\n\t\t\t\tpictureLink: '#',\r\n\t\t\t\tpricePerKg: 0,\r\n\t\t\t\tshopName: 'Loading',\r\n\t\t\t\tweight: 0,\r\n\t\t\t\tlink: '#',\r\n\t\t\t\ttitle: 'Loading'\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tid: Math.random(),\r\n\t\t\t\tpictureLink: '#',\r\n\t\t\t\tpricePerKg: 0,\r\n\t\t\t\tshopName: 'Loading',\r\n\t\t\t\tweight: 0,\r\n\t\t\t\tlink: '#',\r\n\t\t\t\ttitle: 'Loading'\r\n\t\t\t},\r\n\t\t]\r\n\t}\r\n}\r\n\r\nexport const goodsReducer = (state: GoodsState = initialState, action: GoodsActionType): GoodsState => {\r\n\tswitch (action.type) {\r\n\t\tcase GoodsActionsTypes.FETCH_CHEAPER:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tcheaper: {\r\n\t\t\t\t\tisError: false,\r\n\t\t\t\t\tisLoading: true,\r\n\t\t\t\t\thref: '',\r\n\t\t\t\t\tprice: null,\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\tcase GoodsActionsTypes.UPDATE_CHEAPER:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tcheaper: action.payload,\r\n\t\t\t}\r\n\r\n\t\tcase GoodsActionsTypes.UPDATE_IS_CHEAPER_ERROR:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tcheaper: {\r\n\t\t\t\t\tisError: true,\r\n\t\t\t\t\tisLoading: false,\r\n\t\t\t\t\thref: '',\r\n\t\t\t\t\tprice: null,\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\tcase GoodsActionsTypes.FETCH_GOODS:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tgoods: {\r\n\t\t\t\t\t...state.goods,\r\n\t\t\t\t\tisError: false,\r\n\t\t\t\t\tisLoading: true,\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\tcase GoodsActionsTypes.UPDATE_GOODS:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tgoods: {\r\n\t\t\t\t\t...state.goods,\r\n\t\t\t\t\tisError: false,\r\n\t\t\t\t\tisLoading: false,\r\n\t\t\t\t\tgoodsList: action.payload,\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\tcase GoodsActionsTypes.UPDATE_IS_GOODS_ERROR:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tgoods: {\r\n\t\t\t\t\t...state.goods,\r\n\t\t\t\t\tisError: true,\r\n\t\t\t\t\tisLoading: false,\r\n\t\t\t\t\tgoodsList: [],\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n}\r\n","import { NavigationState, NavigationAction, NavigationActionsTypes } from '../../types/navigation';\r\n\r\nconst initialState: NavigationState = {\r\n\tcurrentTab: 'buckwheat',\r\n}\r\n\r\nexport const navigationReducer = (state: NavigationState = initialState, action: NavigationAction): NavigationState => {\r\n\tswitch (action.type) {\r\n\t\tcase NavigationActionsTypes.UPDATE_CATEGORY:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tcurrentTab: action.payload\r\n\t\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n}\r\n","export const SAVING_MOMENT_NAME = 'savingMoment';\r\nexport const FILTERS = 'SAVED_STATE_filters';\r\n","import { FiltersState } from \"../../types/filters\";\r\nimport { SAVING_MOMENT_NAME, FILTERS } from '../../constants/localStorage';\r\n\r\nexport const saveState = (state: object, name: string) => {\r\n\tlocalStorage.setItem(name, JSON.stringify(state));\r\n\tlocalStorage.setItem(SAVING_MOMENT_NAME, `${Date.now()}`);\r\n}\r\n\r\nexport const checkIsDataActual = (name: string) => {\r\n\tlet pastSavingMoment: string | null | number;\r\n\r\n\tpastSavingMoment = localStorage.getItem(SAVING_MOMENT_NAME);\r\n\tpastSavingMoment = typeof pastSavingMoment === 'string' ? +pastSavingMoment : 0;\r\n\r\n\r\n\tlet releaseMoment: number | string | undefined = process.env.REACT_APP_REALEASE_MOMENT;\r\n\treleaseMoment = releaseMoment ? +releaseMoment : Date.now();\r\n\r\n\tconsole.log('releaseMoment', new Date(releaseMoment));\r\n\tconsole.log('pastSavingMoment', new Date(pastSavingMoment));\r\n\r\n\treturn pastSavingMoment > releaseMoment;\r\n}\r\n\r\nexport const getFiltersState = (): FiltersState | false => {\r\n\tif (!checkIsDataActual(FILTERS)) {\r\n\t\treturn false;\r\n\t}\r\n\r\n\tconst string = localStorage.getItem(FILTERS);\r\n\tif (!string) {\r\n\t\treturn false;\r\n\t}\r\n\r\n\ttry {\r\n\t\tconst state: FiltersState = JSON.parse(string);\r\n\r\n\t\treturn state;\r\n\t} catch {\r\n\t\treturn false;\r\n\t}\r\n}","import { FILTERS } from \"../../constants/localStorage\";\r\nimport { FiltersState, FiltersAction, FiltersActionsTypes } from \"../../types/filters\";\r\nimport { getFiltersState, saveState } from '../API/localStorage';\r\nimport { POSSIBLE_SHOPS } from '../../constants/POSSIBLE_SHOPS';\r\nimport { ShopExtended } from \"../../types/ShopType\";\r\n\r\nconst savedState = getFiltersState();\r\n\r\nconst shops: ShopExtended[] = POSSIBLE_SHOPS.map(shop => ({\r\n\t...shop,\r\n\tallowed: true,\r\n}))\r\n\r\nconst defaultState: FiltersState = {\r\n\tisVisible: true,\r\n\tprice: {\r\n\t\tmin: 0,\r\n\t\tmax: 1000,\r\n\t},\r\n\tsortDirection: 'down',\r\n\tshops: shops,\r\n}\r\n\r\nconst initailState: FiltersState = savedState || defaultState;\r\n\r\nexport const filtersReducer = (state: FiltersState = initailState, action: FiltersAction): FiltersState => {\r\n\tswitch (action.type) {\r\n\t\tcase FiltersActionsTypes.UPDATE_FILTERS_VISIBILITY:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisVisible: action.payload === 'show' ? true : false\r\n\t\t\t};\r\n\r\n\t\tcase FiltersActionsTypes.UPDATE_MAX_PRICE:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tprice: {\r\n\t\t\t\t\t...state.price,\r\n\t\t\t\t\tmax: action.payload,\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\tcase FiltersActionsTypes.UPDATE_MIN_PRICE:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tprice: {\r\n\t\t\t\t\t...state.price,\r\n\t\t\t\t\tmin: action.payload,\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\tcase FiltersActionsTypes.INVERT_SORT_DIRECTION:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tsortDirection: state.sortDirection === 'up' ? 'down' : 'up'\r\n\t\t\t}\r\n\r\n\t\tcase FiltersActionsTypes.UPDATE_LIST_OF_SHOPS:\r\n\t\t\tconst newShops: ShopExtended[] = state.shops.map(shop => ({\r\n\t\t\t\t...shop,\r\n\t\t\t\tallowed: shop.id === action.payload.id ? !shop.allowed : shop.allowed,\r\n\t\t\t}))\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tshops: newShops,\r\n\t\t\t}\r\n\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n}\r\n\r\nexport const filtersReducerWrapper = (state: FiltersState = initailState, action: FiltersAction): FiltersState => {\r\n\tconst newState = filtersReducer(state, action);\r\n\r\n\tsaveState(newState, FILTERS);\r\n\r\n\treturn newState;\r\n}","import { Shop } from '../types/ShopType';\r\n\r\nexport const POSSIBLE_SHOPS: Shop[] = [\r\n\t{\r\n\t\tid: 'tavriav',\r\n\t\thumanName: 'Таврія В',\r\n\t},\r\n\t{\r\n\t\tid: 'auchan',\r\n\t\thumanName: 'Ашан',\r\n\t},\r\n\t{\r\n\t\tid: 'metro',\r\n\t\thumanName: 'Метро',\r\n\t},\r\n\t{\r\n\t\tid: 'fozzy',\r\n\t\thumanName: 'Fozzy',\r\n\t},\r\n]\r\n","import { StatiscticsActions, StatisticsAction, StatisticsState } from '../../types/statistics';\r\n\r\nconst initialState: StatisticsState = {\r\n\tisError: false,\r\n\tisLoading: false,\r\n\tdata: [],\r\n}\r\n\r\nexport const statisticsReducer = (\r\n\tstate: StatisticsState = initialState, action: StatisticsAction\r\n\t): StatisticsState => {\r\n\tswitch (action.type) {\r\n\r\n\t\tcase StatiscticsActions.FETCH_CHART_DATA:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisError: false,\r\n\t\t\t\tisLoading: true,\r\n\t\t\t};\r\n\r\n\t\tcase StatiscticsActions.UPDATE_CHART_DATA:\r\n\t\t\treturn {\r\n\t\t\t\tisError: false,\r\n\t\t\t\tisLoading: false,\r\n\t\t\t\tdata: action.payload,\r\n\t\t\t}\r\n\r\n\t\tcase StatiscticsActions.SHOW_ERROR_CHART_DATA:\r\n\t\t\treturn {\r\n\t\t\t\tisError: true,\r\n\t\t\t\tisLoading: false,\r\n\t\t\t\tdata: [],\r\n\t\t\t}\r\n\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n}","import { combineReducers } from 'redux';\r\nimport { goodsReducer } from './goodsReducers';\r\nimport { navigationReducer } from './navigationReducer';\r\nimport { filtersReducerWrapper } from './filtersReducer';\r\nimport { statisticsReducer } from './statisticsReducer';\r\n\r\nexport const rootReducer = combineReducers({\r\n\tnavigation: navigationReducer,\r\n\tgoods: goodsReducer,\r\n\tfilters: filtersReducerWrapper,\r\n\tstatistics: statisticsReducer,\r\n});\r\n\r\nexport type RootState = ReturnType<typeof rootReducer>;\r\n","import { applyMiddleware, createStore } from 'redux';\r\nimport thunk from 'redux-thunk';\r\nimport { composeWithDevTools } from 'redux-devtools-extension';\r\nimport { rootReducer } from './reducers';\r\n\r\nexport const store = createStore(\r\n\trootReducer,\r\n\tcomposeWithDevTools(\r\n\t\tapplyMiddleware(thunk)\r\n\t)\r\n)","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Provider } from 'react-redux';\r\n\r\nimport App from './App';\r\nimport { store } from './store';\r\n\r\nimport './styles/index.scss';\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <React.StrictMode>\r\n      <App />\r\n    </React.StrictMode>\r\n  </Provider>,\r\n  document.getElementById('root')\r\n);\r\n\r\n"],"sourceRoot":""}